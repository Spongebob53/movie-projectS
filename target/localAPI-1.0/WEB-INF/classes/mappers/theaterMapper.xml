<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="theater">
    <!--영화 전체 불러오기-->
    <select id="ticketing_movie" resultType="movie">
        SELECT movie_id,movie_title
        FROM movie
    </select>
    <!-- 지역 전체 불러오기 -->
    <select id="ticketing_area" resultType="theaterArea">
        SELECT *
        FROM area
    </select>
    <!-- 극장 불러오기 -->
    <select id="ticketing_theater" parameterType="theaterArea" resultType="theater">
        SELECT *
        FROM theater
        WHERE theater_id LIKE '${area_id}%'
    </select>
    
    <select id="ticketing_movie_time" parameterType="theaterShow" resultType="theaterShow">
       SELECT movie_show_id, show_start, room_name, room_seat,movie_title
       FROM movie_show NATURAL JOIN room NATURAL JOIN movie
       WHERE movie_id = '${movie_id}' AND room_id LIKE '${theater_id}%'
    </select>

</mapper>